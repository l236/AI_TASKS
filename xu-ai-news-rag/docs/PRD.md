# 产品需求文档（PRD）

## 1. 引言
- **产品名称**：xu-ai-news-rag
- **目标**：构建个性化新闻智能知识库（RAG），实现抓取、入库、检索、兜底与分析。
- **用户**：普通用户、内容运营、研发/测试。

## 2. 用户故事与场景
- **新闻跟踪**：作为用户，我希望订阅 RSS/网站，系统自动抓取并入库，便于统一检索。
- **检索问答**：作为用户，我希望就某主题提问，系统基于知识库返回回答；若无命中，自动联网检索并总结。
- **运营导入**：作为运营，我希望通过 Excel 一次性导入新闻数据到知识库。
- **分析洞察**：作为用户，我希望看到近期内容的关键词 Top10 分布。

## 3. 产品范围与功能列表（Scope & Features）
- **数据采集**：RSS 定时任务、网页抓取（合规/限速/去重）。
- **知识库**：文本切分、向量化（FAISS）、元数据存储（MySQL/H2 dev）。
- **检索增强**：向量检索 + 重排（预留）+ LLM 生成；兜底百度 Top3 + 总结。
- **导入导出**：Excel 导入接口；（可选）导出。
- **鉴权**：Spring Security + JWT 登录注册。
- **分析**：关键词 Top10 统计。

## 4. AI 产品特定需求
- **模型需求**：
  - 嵌入：`all-MiniLM-L6-v2`
  - 重排：`ms-marco-MiniLM-L-6-v2`（后续接入）
  - 大模型：Ollama `qwen2.5:3b`
- **性能指标**：
  - 检索响应 ≤ 2s（向量库内存型）
  - 兜底总结 ≤ 10s（受 LLM 推理影响）
- **数据要求**：
  - 元数据入关系库，文本分块入向量库
  - 抓取合规（robots、限速、来源声明）
- **可解释性**：返回匹配片段与来源链接；总结标注来源。

## 5. 非功能性需求
- **性能**：支持并发 100+（开发环境目标）；
- **安全**：JWT 鉴权、CORS、输入校验；
- **可用**：支持 Docker 编排，一键启动；
- **可维护**：Swagger/OpenAPI、单元/集成测试、README。

## 6. 发布标准与衡量指标
- 功能测试通过率 100%；
- 基础性能达标；
- 关键路径（注册、入库、检索、兜底）E2E 通过；
- 文档完整（README/PRD/架构/原型）。

## 7. 待定项与规划
- 重排模型集成与评测；
- 个性化推荐（画像/订阅偏好）；
- 更丰富的分析仪表板；
- 前端完善与移动端适配。
